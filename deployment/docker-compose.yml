services:
  bdget-app:
    build:
      context: ..
      dockerfile: deployment/Dockerfile
    image: bdget-app:latest
    container_name: bdget-app
    ports:
      - "8080:8080"
    environment:
      SPRING_DATASOURCE_URL: ${SPRING_DATASOURCE_URL:-jdbc:oracle:thin:@//host.docker.internal:1521/ORCLCDB}
      SPRING_DATASOURCE_USERNAME: ${SPRING_DATASOURCE_USERNAME:-oracle_user}
      SPRING_DATASOURCE_PASSWORD: ${SPRING_DATASOURCE_PASSWORD:-oracle_password}
      CONFIG_SERVER_URL: ${CONFIG_SERVER_URL:-http://host.docker.internal:8888}
      SPRING_PROFILES_ACTIVE: ${SPRING_PROFILES_ACTIVE:-default}
      JAVA_OPTS: ${JAVA_OPTS:-}
    restart: unless-stopped
